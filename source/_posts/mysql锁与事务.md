title: mysql锁与事务
date: 2016-07-13 15:50:31
tags: 锁 事务 mysql 数据库
categories: 数据库
---

<h2>1.锁问题</h2>
1.1 脏读（读取到未提交的事务修改的数据）
脏读指的在不同的事务下，当前事务可以读取到其他事物未提交的数据，也就是读到脏数据。

什么叫脏数据：事务对缓冲池中的行记录的修改，并且还没有提交。这违反了数据库的隔离性。
<!--more-->
1.2 不可重复读（同一事务内的两次读取，读取到的是已提交的事务修改后的数据）
不可重复读是指在一个事务内多次读取同一数据集合。在这个事务结束前，另一个事务也访问这一数据，并做了一些DML（data manipulation language）操作。由于第二个事务对数据的修改，导致第一个事务两次读到的数据不一样。

1.3 丢失更新：当两个或多个事务选择同一行，然后基于最初选定的值更新该行时，会发生丢失更新问题。每个事务都不知道其它事务的存在。最后的更新将重写由其它事务所做的更新，这将导致数据丢失。

1.4 幻读：当对某行执行插入或删除操作，而该行属于某个事务正在读取的行的范围时，会发生幻像读问题。事务第一次读的行范围显示出其中一行已不复存在于第二次读或后续读中，因为该行已被其它事务删除。同样，由于其它事务的插入操作，事务的第二次或后续读显示有一行已不存在于原始读中。
<h2>参考文献</h2>
1.[从特性说起，漫谈MySQL中的事务及其实现](https://www.sdk.cn/news/4187)